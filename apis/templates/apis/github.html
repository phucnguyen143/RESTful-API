{% extends 'base.html' %}

{% block content %}
	<h2>Github API</h2>
	<h4>Want to know how many local repostories of a user? Let's find out</h4>
	<form method="get">
		<input type="text" name="username">
		<button type="submit">search on github</button>
	</form>
	{% if search_result %}
		{% if search_result.success %}
			<p>
				<strong>{{ search_result.name|default_if_none:search_result.login }}</strong> has <strong>{{ search_result.public_repos }}</strong> public repositories.
			</p>
		{% else %}
			<p><em>{{ search_result.message }}</em></p>
		{% endif %}
		<p>Rate limt: {{ search_result.rate.remaining }}/{{ search_result.rate.limit }}</p>
	{% endif %}
{% endblock %}